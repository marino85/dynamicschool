<ui:composition  xmlns="http://www.w3.org/1999/xhtml"
                 xmlns:ui="http://java.sun.com/jsf/facelets" 
                 xmlns:h="http://java.sun.com/jsf/html"
                 xmlns:p="http://primefaces.org/ui" 
                 xmlns:f="http://java.sun.com/jsf/core"
                 template="/WEB-INF/template.xhtml">


    <ui:define name="content">

        <h:form id="Noticias">

            <p:panel header="Noticias">

                <p:messages styleClass="messageLogin"></p:messages> 


                <h:panelGrid columns="2">


                    <p:outputLabel value="Titulo"/>
                    <p:inputText value="#{noticiasBean.newNoticia.titulo}" required="true" requiredMessage="Titulo campo obligatorio"></p:inputText>

                    <p:outputLabel value="Estado"/>
                    <p:selectOneMenu value="#{noticiasBean.newNoticia.estado}" > 
                        <f:selectItem itemLabel="Activa" itemValue="A"/>
                        <f:selectItem itemLabel="Inactiva" itemValue="I"/>
                    </p:selectOneMenu>

                    <p:outputLabel value="Contenido"/>
                    <p:inputTextarea cols="70" rows="4" value="#{noticiasBean.newNoticia.contenido}"/>
                    <h:panelGroup>
                        <p:commandButton value="Crear" validateClient="true" update=":popupcrearnt"  actionListener="#{noticiasBean.crearNoticia()}" icon="ui-icon-disk" > 
                        </p:commandButton>
                        <p:commandButton immediate="true" value="Cancelar"  action="consultarnoticias" icon="ui-icon-close" > 
                        </p:commandButton>
                    </h:panelGroup>

                </h:panelGrid>


            </p:panel>


        </h:form>




    </ui:define>
    <ui:define name="popup">
        <h:form id="popupcrearnt">
            <p:dialog id="dialog"
                      closable="false"                          
                      modal="true"
                      draggable="false"
                      widgetVar="comfirm"
                      header="Mensaje ConfirmaciÃ³n"
                      width="400"
                      visible="#{noticiasBean.showDialog}">




                <h:panelGrid>
                    <h:outputText value="#{noticiasBean.messaje}"></h:outputText>

                </h:panelGrid>
                <p:commandButton value="Aceptar" update=":popupcrearnt,:Noticias"
                                 icon="ui-icon-info"
                                 actionListener="#{noticiasBean.aceptar(evt)}"></p:commandButton>



            </p:dialog>
        </h:form>
    </ui:define>



</ui:composition>
